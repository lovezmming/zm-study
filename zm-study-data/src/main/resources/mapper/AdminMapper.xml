<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.data.database.mybatis.mapper.AdminMapper">
  <resultMap id="BaseResultMap" type="com.spring.data.database.mybatis.model.ZmSystem">
    <id column="ID" jdbcType="CHAR" property="id" />
    <result column="NAME" jdbcType="CHAR" property="name" />
    <result column="DESC" jdbcType="VARCHAR" property="desc" />
    <result column="TYPE" jdbcType="CHAR" property="type" />
    <result column="CREATE_TIME" jdbcType="TIMESTAMP" property="createTime" />
    <result column="UPDATE_TIME" jdbcType="TIMESTAMP" property="updateTime" />
  </resultMap>

  <select id="selectZmSystemByNameAndType" resultMap="BaseResultMap">
    select ID, `NAME`, `DESC`, `TYPE`, CREATE_TIME, UPDATE_TIME
    from zm_system
    where 1=1
    <if test="map != null">
      <if test="map.type != null">
        and type = #{map.type}
      </if>
      <if test="map.name != null">
        and name = #{map.name}
      </if>
    </if>
  </select>

</mapper>